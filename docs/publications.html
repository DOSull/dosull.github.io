<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="I try to keep this as up to date as possible…">

<title>Geospatial Stuff - Publications</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href=".//images/gs-logo-corrected.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/gs-logo-corrected.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Geospatial <br>Stuff</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./portfolio.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./training.html"> 
<span class="menu-text">Training</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="./books.html">
 <span class="dropdown-text">Books</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./presentations.html">
 <span class="dropdown-text">Presentations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./publications.html">
 <span class="dropdown-text">Publication list</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dosull.github.io/computing-geographically" target="_blank">
 <span class="dropdown-text">Computing Geographically <img src="images/external-link.svg" class="img-fluid"></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dosull.github.io/pattern-and-process" target="_blank">
 <span class="dropdown-text">Spatial Simulation <img src="images/external-link.svg" class="img-fluid"></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dosull.github.io/30-day-maps-2023" target="_blank">
 <span class="dropdown-text">30 Day Map Challenge 2023 <img src="images/external-link.svg" class="img-fluid"></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DOSull"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/david-o-sullivan-1b8a901b7/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Publications</h1>
                  <div>
        <div class="description">
          I try to keep this as up to date as possible…
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>A similar list is available at my <a href="https://orcid.org/0000-0001-8078-3241">ORCiD profile</a>. You can also see them in citational context at <a href="https://scholar.google.com/citations?user=6guUlvgAAAAJ&amp;hl=en&amp;oi=ao">my google scholar page</a>, which is reasonably accurate. Links below are generally to official publisher sources, and are often paywalled. Open access copies are linked from my <a href="https://profiles.auckland.ac.nz/dosu004">University of Auckland profile page</a>. If you would like a copy of something in particular and can’t access it, then <a href="mailto:osullivan512@gmail.com">get in touch</a>.</p>
<p>Jump to <a href="#books">books</a>, <a href="#in-refereed-journals">papers</a>, <a href="#book-chapters">book chapters</a>, <a href="#dissertations">dissertations</a></p>
<section id="books" class="level2">
<h2 class="anchored" data-anchor-id="books">Books</h2>
<div style="padding-left:2em; text-indent:-2em;">
<p><strong>O’Sullivan D</strong>. 2024. <em>Computing Geographically: Bridging Giscience and Geography</em> (Guilford Press: New York).</p>
<p><strong>O’Sullivan D</strong>. 2017. Section Editor for ‘Fundamentals of GIScience’ (32 articles) in <em>The International Encyclopedia of Geography: People, the Earth, Environment, and Technology</em>. Richardson, D. (ed). New York: Wiley.</p>
<p>Miller JA, <strong>D O’Sullivan</strong> and Wiegand N eds.&nbsp;2016. <em>Geographic Information Science: Proceedings of the 9th International Conference, GIScience 2016 Lecture Notes in Computer Science Vol. 9927</em> (Springer: Cham, Switzerland).</p>
<p><strong>O’Sullivan D</strong> and GLW Perry. 2013. <em>Spatial Simulation: Exploring Pattern and Process</em> (Wiley: Chichester, UK).</p>
<p><strong>O’Sullivan D</strong> and DJ Unwin. 2010. <em>Geographic Information Analysis</em> 2nd edn. (Wiley: Hoboken, NJ).</p>
<p><strong>O’Sullivan D</strong> and DJ Unwin. 2003. <em>Geographic Information Analysis</em> (Wiley: Hoboken, NJ).</p>
</div>
</section>
<section id="in-refereed-journals" class="level2">
<h2 class="anchored" data-anchor-id="in-refereed-journals">In refereed journals</h2>
<div style="padding-left:2em; text-indent:-2em;">
<p>Mahmoudi D, J Thatcher, LB Imaoka, and <strong>D O’Sullivan</strong>. Online first. From FOSS to profit: Digital spatial technologies and the mode of production. <em>Digital Geography and Society</em>. 100101. doi: <a href="https://dx.doi.org/10.1016/j.diggeo.2024.100101">10.1016/j.diggeo.2024.100101</a>.</p>
<p><strong>O’Sullivan D</strong>. 2024. Environment and Planning B and me; or what is lost in data. <em>Environment and Planning B: Urban Analytics and City Science</em> <strong>51</strong>(5) 1045–1048. doi: <a href="https://dx.doi.org/10.1177/23998083241246320">10.1177/23998083241246320</a>.</p>
<p>Etherington TR, <strong>D O’Sullivan</strong>, GLW Perry, DR Richards, and J Wainwright. 2024. A least-cost network neutral landscape model of human sites and routes. <em>Landscape Ecology</em> <strong>39</strong>(3) 52. doi: <a href="https://dx.doi.org/10.1007/s10980-024-01836-w">10.1007/s10980-024-01836-w</a>.</p>
<p>Antosz P, D Birks, B Edmonds, A Heppenstall, R Meyer, JG Polhill, <strong>D O’Sullivan</strong> and N Wijermans. 2023. What do you want theory for? A pragmatic analysis of the roles of “theory” in agent-based modelling. <em>Environmental Modelling &amp; Software</em> <strong>168</strong> 105802. doi: <a href="https://dx.doi.org/10.1016/j.envsoft.2023.105802">10.1016/j.envsoft.2023.105802</a></p>
<p>Lester PJ, <strong>D O’Sullivan</strong> and GLW Perry. 2023. Gene drives for invasive wasp control: Extinction is unlikely, with suppression dependent on dispersal and growth rates. <em>Ecological Applications</em> <strong>33</strong>(7) e2912. doi: <a href="https://dx.doi.org/10.1002/eap.2912">10.1002/eap.2912</a></p>
<p>Bergmann L, LF Chaves, <strong>D O’Sullivan</strong> and RG Wallace. 2023. Dominant Modes of Agricultural Production Helped Structure Initial COVID-19 Spread in the U.S. Midwest. <em>ISPRS International Journal of Geo-Information</em> <strong>12</strong>(5) 195. doi: <a href="https://dx.doi.org/10.3390/ijgi12050195">10.3390/ijgi12050195</a></p>
<p>Etherington T, F Morgan, <strong>D O’Sullivan</strong>. 2022, Binary space partitioning generates hierarchical and rectilinear neutral landscape models suitable for human-dominated landscapes. <em>Landscape Ecology</em> <strong>37</strong>(7) 1761–1769. doi: <a href="https://dx.doi.org/10.1007/s10980-022-01452-6">10.1007/s10980-022-01452-6</a></p>
<p>Chaves LF, MD Friberg, LA Hurtado, RM Rodríguez, <strong>D O’Sullivan</strong> and LR Bergmann. 2022. Trade, uneven development and people in motion: Used territories and the initial spread of COVID-19 in Mesoamerica and the Caribbean. <em>Socio-Economic Planning Sciences</em> <strong>80</strong> (March) 101161. doi: <a href="https://dx.doi.org/10.1016/j.seps.2021.101161">10.1016/j.seps.2021.101161</a></p>
<p>Gibadullina A, LR Bergmann and <strong>D O’Sullivan</strong>. 2021. For Geographical Network Analysis. <em>Tijdschrift voor Economische en Sociale Geografie</em> <strong>112</strong>(4) 482-487. doi: <a href="https://dx.doi.org/10.1111/tesg.12489">10.1111/tesg.12489</a>.</p>
<p><strong>O’Sullivan D</strong>. 2021. New mappings of GIScience and geography. A commentary on May Yuan’s ‘GIS research to address tensions in geography.’ <em>Singapore Journal of Tropical Geography</em> <strong>42</strong>(1) 31–35. doi: <a href="https://dx.doi.org/10.1111/sjtg.12345">10.1111/sjtg.12345</a></p>
<p><strong>O’Sullivan D</strong>. 2021. Things are how they are because of how they got that way: Thoughts from the beach, on 50 years of Geographical Analysis. <em>Geographical Analysis</em> <strong>53</strong>(1) 157–163. doi: <a href="https://dx.doi.org/10.1111/gean.12225">10.1111/gean.12225</a></p>
<p>Franklin, RS, V Houlden, C Robinson, D Arribas-Bel, EC Delmelle, U Demšar, HJ Miller, and <strong>D O’Sullivan</strong>. 2021. Who counts? Gender, gatekeeping, and quantitative human geography. <em>The Professional Geographer</em> <strong>73</strong>(1) 48–61. doi: <a href="https://dx.doi.org/10.1080/00330124.2020.1828944">10.1080/00330124.2020.1828944</a></p>
<p><strong>O’Sullivan D</strong>, M Gahegan, DJ Exeter and B Adams. 2020. Spatially explicit models for exploring COVID 19 lockdown strategies. <em>Transactions in GIS</em> <strong>24</strong>(4) 967–1000. doi: <a href="https://dx.doi.org/10.1111/tgis.12660">10.1111/tgis.12660</a></p>
<p>Payne WB and <strong>D O’Sullivan</strong>. 2020. Exploding the phone book: Spatial data arbitrage in the 1990s Internet boom. <em>Annals of the American Association of Geographers</em> <strong>110</strong>(2) 391–398. doi: <a href="https://dx.doi.org/10.1080/24694452.2019.1656999">10.1080/24694452.2019.1656999</a></p>
<p>Manson S, L An, KC Clarke, A Heppenstall, J Koch, B Krzyzanowski, F Morgan, <strong>D O’Sullivan</strong>, BC Runck, E Shook and L Tesfatsion. 2020. Methodological Issues of Spatial Agent-Based Models. <em>Journal of Artificial Societies and Social Simulation</em> 23(1) 3. doi: <a href="https://dx.doi.org/10.18564/jasss.4174">10.18564/jasss.4174</a></p>
<p>Christophers B and <strong>D O’Sullivan</strong>. 2019. Intersections of inequality in homeownership in Sweden. Housing Studies <strong>34</strong>(6) 897-924. doi: <a href="https://dx.doi.org/10.1080/02673037.2018.1495695">10.1080/02673037.2018.1495695</a></p>
<p>Mavoa S, N Bagheri, MJ Koohsari, AT Kaczynski, KE Lamb, K Oka, <strong>D O’Sullivan</strong> and K Witten. 2019. How do neighbourhood definitions influence the associations between built environment and physical activity? <em>International Journal of Environmentalal Research and Public Health</em> <strong>16</strong>. doi: <a href="https://dx.doi.org/10.3390/ijerph16091501">10.3390/ijerph16091501</a></p>
<p><strong>O’Sullivan, D</strong> 2019. Untangling knots: Thoughts on Wilson’s <em>New Lines</em>. <em>Transactions in GIS</em> <strong>32</strong>(1) 168-169. doi: <a href="http://dx.doi.org/10.1111/tgis.12502">10.1111/tgis.12502</a></p>
<p>Liu C, <strong>D O’Sullivan</strong> and GLW Perry. 2018. The rent gap revisited: gentrification in Point Chevalier, Auckland. <em>Urban Geography</em> <strong>39</strong>(9) 1300-1325. doi: <a href="http://dx.doi.org/10.1080/02723638.2018.1446883">10.1080/02723638.2018.1446883</a></p>
<p>Perry GLW and <strong>D O’Sullivan</strong>. 2018. Identifying narrative descriptions in agent-based models representing past human-environment interactions. <em>Journal of Archaeological Method and Theory</em>, <strong>25</strong>(3) 795-813. doi: <a href="http://dx.doi.org/10.1007/s10816-017-9355-x">10.1007/s10816-017-9355-x</a></p>
<p>Mavoa S, K Lamb, <strong>D O’Sullivan</strong>, K Witten and M. Smith. 2018. Are disadvantaged children more likely to be excluded from analysis when applying global positioning systems inclusion criteria? <em>BMC Research Notes</em>, <strong>11</strong> 578. doi: <a href="http://dx.doi.org/10.1186/s13104-018-3681-2">10.1186/s13104-018-3681-2</a></p>
<p>Mahdavi Ardestani B, <strong>D O’Sullivan</strong>, and P Davis. 2018. A multi-scaled agent-based model of residential segregation applied to a real metropolitan area. <em>Computers, Environment and Urban Systems</em>, <strong>69</strong> 1-16. doi: <a href="http://dx.doi.org/10.1016/j.compenvurbsys.2017.11.002">10.1016/j.compenvurbsys.2017.11.002</a></p>
<p>Bergmann LR and <strong>D O’Sullivan</strong>. 2018. Reimagining GIScience for relational spaces. <em>The Canadian Geographer / Le Géographe canadien.</em> <strong>62</strong>(1) 7-14. doi: <a href="http://dx.doi.org/10.1111/cag.12405">10.1111/cag.12405</a></p>
<p>Getz WM, CR Marshall, CJ Carlson, L Giuggioli, SJ Ryan, SS Romañach, C Boettiger, SD Chamberlain, L Larsen, P D’Odorico, <strong>D O’Sullivan</strong>. 2018. Making ecological models adequate. <em>Ecology Letters</em> <strong>21</strong>(2) 153-166. doi: <a href="http://dx.doi.org/10.1111/ele.12893">10.1111/ele.12893</a></p>
<p><strong>O’Sullivan D</strong>, LR Bergmann, and JE Thatcher. 2018. Spatiality, maps, and mathematics in critical human geography: toward a repetition with difference. <em>The Professional Geographer</em> <strong>70</strong>(1) 129-139. doi: <a href="http://dx.doi.org/10.1080/00330124.2017.1326081">10.1080/00330124.2017.1326081</a></p>
<p>Harris R, <strong>D O’Sullivan</strong>, M Gahegan, M Charlton, L Comber, P Longley, C Brunsdon, N Malleson, A Heppenstall, A Singleton, D Arribas-Bel, and A Evans. 2017. More bark than bytes? Reflections on 21+ years of geocomputation. <em>Environment and Planning B: Urban Analytics and City Science</em> <strong>44</strong>(4) 598-617. doi: <a href="http://dx.doi.org/10.1177/2399808317710132.">10.1177/2399808317710132.</a></p>
<p>Liu C and <strong>O’Sullivan</strong>, D. 2016. An abstract model of gentrification as a spatially contagious succession process. <em>Computers, Environment and Urban Systems</em> <strong>59</strong> 1-10. doi: <a href="http://dx.doi.org/10.1016/j.compenvurbsys.2016.04.004">10.1016/j.compenvurbsys.2016.04.004</a></p>
<p>Thatcher JE, <strong>D O’Sullivan</strong> and D Mahmoudi. 2016. Data colonialism through accumulation by dispossession: new metaphors for everyday data. <em>Environment and Planning D: Society and Space</em> <strong>34</strong>(6) 990-1006. doi: <a href="http://dx.doi.org/10.1177/0263775816633195">10.1177/0263775816633195</a></p>
<p>Cheung AK-L, G Brierley, and <strong>D O’Sullivan</strong>. 2016. Landscape structure and dynamics on the Qinghai-Tibetan Plateau. <em>Ecological Modelling</em> <strong>339</strong> 7-22. doi: <a href="http://dx.doi.org/10.1016/j.ecolmodel.2016.07.015">10.1016/j.ecolmodel.2016.07.015</a></p>
<p>Thatcher JE, LR Bergmann, B Ricker, R Rose-Redwood, <strong>D O’Sullivan</strong>, TJ Barnes, LR Barnesmoore, L Beltz Imaoka, R Burns, J Cinnamon, CM Dalton, C Davis, S Dunn, F Harvey, J-K Jung, E Kersten, L Knigge, N Lally, W Lin, D Mahmoudi, M Martin, W Payne, A Sheikh, T Shelton, E Sheppard, CW Strother, A Tarr, MW Wilson, and JC Young. 2016. Revisiting critical GIS. <em>Environment and Planning A</em> <strong>48</strong>(5) 815-824. doi: <a href="http://dx.doi.org/10.1177/0308518X15622208">10.1177/0308518X15622208</a></p>
<p><strong>O’Sullivan D</strong>, T Evans, SM Manson, S Metcalf, A Ligmann-Zielinska, and C Bone. 2016. Strategic directions for agent-based modeling: avoiding the YAAWN syndrome. <em>Journal of Land Use Science</em> <strong>11</strong>(2) 177-187. doi: <a href="http://dx.doi.org/10.1080/1747423X.2015.1030463">10.1080/1747423X.2015.1030463</a></p>
<p><strong>O’Sullivan D</strong> and SM Manson. 2015. Do physicists have geography envy? And what can geographers learn from it? <em>Annals of the Association of American Geographers</em> <strong>105</strong>(4) 704–722. doi: <a href="http://dx.doi.org/10.1080/00045608.2015.1039105">10.1080/00045608.2015.1039105</a></p>
<p>Cheung AK-L, <strong>D O’Sullivan</strong> and G Brierley. 2015. Graph-assisted landscape monitoring. <em>International Journal of Geographical Information Science</em> <strong>29</strong>(4) 580-605. doi: <a href="http://dx.doi.org/10.1080/13658816.2014.989856">10.1080/13658816.2014.989856</a></p>
<p>Etherington TR, EP Holland, and <strong>D O’Sullivan</strong>. 2015. NLMpy: a python software package for the creation of neutral landscape models within a general numerical framework. <em>Methods in Ecology and Evolution</em> <strong>6</strong>(2) 164-168. doi: <a href="http://dx.doi.org/10.1111/2041-210X.12308">10.1111/2041-210X.12308</a></p>
<p>Hong S-Y, <strong>D O’Sullivan</strong> and Y Sadahiro. 2014. Implementing Spatial Segregation Measures in R. <em>PLoS ONE</em> <strong>9</strong>(11): e113767. doi: <a href="http://dx.doi.org/10.1371/journal.pone.0113767">10.1371/journal.pone.0113767</a></p>
<p><strong>O’Sullivan D</strong>. 2014. Don’t panic! The need for change and for curricular pluralism. <em>Dialogues in Human Geography</em> <strong>4</strong>(1) 39-44. doi: <a href="http://dx.doi.org/10.1177/2043820614525712">10.1177/2043820614525712</a></p>
<p>Millington JDA, <strong>D O’Sullivan</strong> and GLW Perry. 2012. Model histories: Narrative explanation in generative simulation modelling. <em>Geoforum</em> <strong>43</strong>(6) 1025-1034. doi: <a href="http://dx.doi.org/10.1016/j.geoforum.2012.06.017">10.1016/j.geoforum.2012.06.017</a></p>
<p>Mueller S, DJ Exeter, H Petousis-Harris, N Turner, <strong>D O’Sullivan</strong> and CD Buck. 2012. Measuring disparities in immunisation coverage among children in New Zealand. <em>Health and Place</em> <strong>18</strong>(6) 1217-1223. doi: <a href="http://dx.doi.org/10.1016/j.healthplace.2012.08.003">10.1016/j.healthplace.2012.08.003</a></p>
<p>Hong S-Y and <strong>D O’Sullivan</strong>. 2012. Detecting ethnic residential clusters using an optimisation clustering method. <em>International Journal of Geographical Information Science</em> <strong>26</strong>(8) 1257-1277. doi: <a href="http://10.1080/13658816.2011.637045">10.1080/13658816.2011.637045</a></p>
<p>Xue J, W Friesen and <strong>D O’Sullivan</strong>. 2012. Diversity in Chinese Auckland: Hypothesising multiple ethnoburbs. <em>Population, Space and Place</em> <strong>18</strong> 579-595. doi: <a href="http://dx.doi.org/10.1002/psp.688">10.1002/psp.688</a></p>
<p>Mavoa S, K Witten, T McCreanor, and <strong>D O’Sullivan</strong>. 2012. GIS based destination accessibility via public transit and walking in Auckland, New Zealand. <em>Journal of Transport Geography</em> <strong>20</strong>(1) 15-22. doi: <a href="http://dx.doi.org/10.1016/j.jtrangeo.2011.10.001">10.1016/j.jtrangeo.2011.10.001</a></p>
<p>Mateos P, PA Longley, and <strong>D O’Sullivan</strong>. 2011. Ethnicity and Population Structure in Personal Naming Networks. <em>PLoS ONE</em> <strong>6</strong>(9) e22943. doi: <a href="http://dx.doi.org/10.1371/journal.pone.0022943">10.1371/journal.pone.0022943</a></p>
<p>Pearson J, R Lay-Yee, P Davis, <strong>D O’Sullivan</strong>, M von Randow, N Kerse and S Pradhan. 2011. Primary care in an aging society: Building and testing a microsimulation model for policy purposes. <em>Social Science Computer Review</em> <strong>29</strong>(1) 21-36. doi: <a href="http://dx.doi.org/10.1177/0894439310370087">10.1177/0894439310370087</a></p>
<p><strong>O’Sullivan D</strong>. 2009. What’s critical about critical GIS? <em>Cartographica</em> <strong>44</strong>(1) 7-8. doi: <a href="http://dx.doi.org/10.3138/carto.44.1.5">10.3138/carto.44.1.5</a></p>
<p><strong>O’Sullivan D</strong> and G. L. W. Perry. 2009. A discrete space model for continuous space dispersal processes. <em>Ecological Informatics</em> <strong>4</strong>(2) 57-68. doi: <a href="http://dx.doi.org/10.1016/j.ecoinf.2009.03.001">10.1016/j.ecoinf.2009.03.001</a></p>
<p><strong>O’Sullivan D</strong>. 2009. Changing neighborhoods – neighborhoods changing: a framework for spatially explicit agent-based models of social systems. <em>Sociological Methods and Research</em> <strong>37</strong>(4) 498-530. doi: <a href="http://dx.doi.org/10.1177/0049124109334793">10.1177/0049124109334793</a></p>
<p>Reardon SF, CR Farrell, SA Matthews, <strong>D O’Sullivan</strong>, K Bischoff and G Firebaugh. 2009. Race and space in the 1990s: changes in the geographic scale of racial residential segregation, 1990-2000. <em>Social Science Research</em> <strong>38</strong> 55-70. doi: <a href="http://dx.doi.org/10.1016/j.ssresearch.2008.10.002">10.1016/j.ssresearch.2008.10.002</a></p>
<p>Lee BA, SF Reardon, G Firebaugh, CR Farrell, SA Matthews and <strong>D O’Sullivan</strong>. 2008. Beyond the census tract: patterns and determinants of racial segregation at multiple geographic scales. <em>American Sociological Review</em> <strong>73</strong>(October) 766-791. doi: <a href="http://dx.doi.org/10.1177/000312240807300504">10.1177/000312240807300504</a></p>
<p>Reardon SF, SA Matthews, <strong>D O’Sullivan</strong>, BA Lee, G Firebaugh, CR Farrell and K Bischoff. 2008. The geographic scale of metropolitan segregation. <em>Demography,</em> <strong>45</strong>(3) 489-514. doi: <a href="http://dx.doi.org/10.1353/dem.0.0019">10.1353/dem.0.0019</a></p>
<p><strong>O’Sullivan D</strong>. 2008. Geographical information science: agent-based models. <em>Progress in Human Geography</em> <strong>32</strong>(2) 541-550. doi: <a href="http://dx.doi.org/10.1177/0309132507086879">10.1177/0309132507086879</a></p>
<p><strong>O’Sullivan D</strong> and DWS Wong. 2007. A surface-based approach to measuring spatial segregation. <em>Geographical Analysis</em> <strong>39</strong>(2) 147-168. doi: <a href="http://dx.doi.org/10.1111/j.1538-4632.2007.00699.x">10.1111/j.1538-4632.2007.00699.x</a></p>
<p><strong>O’Sullivan D</strong>. 2006. Geographical information science: critical GIS. <em>Progress in Human Geography</em> <strong>30</strong>(6) 783-791. doi: <a href="http://dx.doi.org/10.1177/0309132506071528">10.1177/0309132506071528</a></p>
<p>Rygel L, <strong>D O’Sullivan</strong> and B Yarnal. 2006. A method for constructing a social vulnerability index: an application to hurricane storm surges in a developed country. <em>Mitigation and Adaptation Strategies for Global Change</em> <strong>11</strong>(3) 741-764. doi: <a href="http://dx.doi.org/10.1007/s11027-006-0265-6">10.1007/s11027-006-0265-6</a></p>
<p>Manson SM and <strong>D O’Sullivan</strong>. 2006. Complexity theory in the study of space and place. <em>Environment and Planning A</em> <strong>38</strong>(4) 677-692. doi: <a href="http://dx.doi.org/10.1068/a37100">10.1068/a37100</a></p>
<p><strong>O’Sullivan D</strong>, JP Messina, SM Manson and TW Crawford. 2006. Space, place, and complexity science. <em>Environment and Planning A</em> <strong>38</strong>(4) 611-617. doi: <a href="http://dx.doi.org/10.1068/a3812">10.1068/a3812</a></p>
<p><strong>O’Sullivan D</strong>. 2005. Geographical information science: time changes everything. <em>Progress in Human Geography</em> <strong>29</strong>(6) 749-756. doi: <a href="http://dx.doi.org/10.1191/0309132505ph581pr">10.1191/0309132505ph581pr</a></p>
<p>Crawford TW, JP Messina, SM Manson and <strong>D O’Sullivan</strong>. 2005. Complexity science, complex systems, and land-use research. <em>Environment and Planning B: Planning &amp; Design</em> <strong>32</strong>(5) 792-798. doi: <a href="http://dx.doi.org/10.1068/b3206ed">10.1068/b3206ed</a></p>
<p>Reardon SF and <strong>D O’Sullivan</strong>. 2004. Measures of Spatial Segregation. <em>Sociological Methodology</em> <strong>34</strong>(1) 121-162. doi: <a href="http://dx.doi.org/10.1111/j.0081-1750.2004.00150.x">10.1111/j.0081-1750.2004.00150.x</a></p>
<p><strong>O’Sullivan D</strong>. 2004. Complexity science and human geography. <em>Transactions of the Institute of British Geographers</em> <strong>29</strong>(3) 282-295. doi: <a href="http://dx.doi.org/10.1111/j.0020-2754.2004.00321.x">10.1111/j.0020-2754.2004.00321.x</a></p>
<p><strong>O’Sullivan D</strong>. 2002. Toward micro-scale spatial modelling of gentrification. <em>Journal of Geographical Systems</em> <strong>4</strong>(3) 251-274. doi: <a href="http://dx.doi.org/10.1007/s101090200086">10.1007/s101090200086</a></p>
<p><strong>O’Sullivan D</strong>. 2001. Graph-cellular automata: a generalised discrete urban and regional model. <em>Environment and Planning B: Planning &amp; Design</em> <strong>28</strong>(5) 687-705. doi: <a href="http://dx.doi.org/10.1068/b2707">10.1068/b2707</a></p>
<p>Haklay M, T Schelhorn, <strong>D O’Sullivan</strong> and M Thurstain-Goodwin. 2001. “So go down town”: Simulating pedestrian movement in town centres. <em>Environment and Planning B: Planning &amp; Design</em> <strong>28</strong>(3) 343-359. doi: <a href="http://dx.doi.org/10.1068/b2758t">10.1068/b2758t</a></p>
<p>Torrens PM and <strong>D O’Sullivan</strong>. 2001. Cellular automata and urban simulation: where do we go from here? <em>Environment and Planning B: Planning &amp; Design</em> <strong>28</strong>(2) 163-168. doi: <a href="http://dx.doi.org/10.1068/b2802ed">10.1068/b2802ed</a></p>
<p><strong>O’Sullivan D</strong> and A Turner. 2001. Visibility graphs and landscape visibility analysis. <em>International Journal of Geographical Information Science</em> <strong>15</strong>(3) 221-237. doi: <a href="http://dx.doi.org/10.1080/13658810151072859">10.1080/13658810151072859</a></p>
<p>Turner A, M Doxa, <strong>D O’Sullivan</strong> and A Penn. 2001. From isovists to visibility graphs: a methodology for the analysis of architectural space. <em>Environment and Planning B: Planning &amp; Design</em> <strong>28</strong>(1) 103-121. doi: <a href="http://dx.doi.org/10.1068/b2684">10.1068/b2684</a></p>
<p><strong>O’Sullivan D</strong>. 2001. Exploring spatial process dynamics using irregular cellular automaton models. <em>Geographical Analysis</em> <strong>33</strong>(1) 1-18. doi: <a href="http://dx.doi.org/10.1111/j.1538-4632.2001.tb00433.x">10.1111/j.1538-4632.2001.tb00433.x</a></p>
<p><strong>O’Sullivan D</strong>. and M Haklay. 2000. Agent-based models and individualism: is the world agent-based? <em>Environment and Planning A</em> <strong>32</strong>(8) 1409-1425. doi: <a href="http://doi.org/10.1068%2Fa32140">10.1068%2Fa32140</a></p>
<p><strong>O’Sullivan D</strong>, A Morrison and J Shearer. 2000. Using desktop GIS for the investigation of accessibility by public transport: an isochrone approach. <em>International Journal of Geographical Information Science</em> <strong>14</strong>(1) 85-104. doi: <a href="http://dx.doi.org/10.1080/136588100240976">10.1080/136588100240976</a></p>
</div>
</section>
<section id="book-chapters" class="level2">
<h2 class="anchored" data-anchor-id="book-chapters">Book chapters</h2>
<div style="padding-left:2em; text-indent:-2em;">
<p>Bergmann LR and <strong>D O’Sullivan</strong>. 2024. Space: towards a global sense of place. In <em>A Research Agenda for Spatial Analysis</em> (eds LJ Wolf, R Harris and AJ Heppenstall). Elgar Research Agendas. Edward Elgar Publishing. doi: <a href="https://dx.doi.org/10.4337/9781802203233.00009">10.4337/9781802203233.00009</a>.</p>
<p>C Andris and <strong>D O’Sullivan</strong>. 2019. Spatial Networks. In <em>Handbook of Regional Science</em> (eds MM Fischer and P Nijkamp). Springer. doi: <a href="https://dx.doi.org/10.1007/978-3-642-36203-3_67-1">10.1007/978-3-642-36203-3_67-1</a>.</p>
<p><strong>D O’Sullivan</strong>. 2018. Cartography and geographic information systems. In J Ash, R Kitchin and A Leszczynski (eds), <em>Digital Geographies</em>, (Los Angeles: Sage), pages 118-128.</p>
<p><strong>D O’Sullivan</strong>. 2018. Big data … why (oh why?) this computational social science? In JE Thatcher, J Eckert and A Shears (eds), <em>Thinking Big Data in Geography: New Regimes, New Research</em>, (Lincoln: University of Nebraska Press), pages 21-38. doi: <a href="http://dx.doi.org/10.2307/j.ctt21h4z6m.7">10.2307/j.ctt21h4z6m.7</a></p>
<p>LR Bergmann and <strong>D O’Sullivan</strong>. 2017. Computing with many spaces: Generalizing projections for the digital geohumanities and GIScience. In <em>Proceedings of GeoHumanities’17: 1st ACM SIGSPATIAL Workshop on Geospatial Humanities</em>, Redondo Beach, CA, November 7-10 (GeoHumanities’17), pages 31-38. doi: <a href="http://dx.doi.org/10.1145/3149858.3149866">10.1145/3149858.3149866</a></p>
<p>Thatcher JE, LR Bergmann and <strong>D O’Sullivan</strong>. 2016. Searching for common ground (again). In <em>Short Paper Proceedings of 9th International Conference on Geographical Information Science</em>, eds JA Miller, <strong>D O’Sullivan</strong> and N Wiegand, (Montreal, Canada), pages 304-307. doi: <a href="http://dx.doi.org/10.21433/B3118nq409qz">10.21433/B3118nq409qz</a></p>
<p>Pfeffer K, J Martinez, <strong>D O’Sullivan</strong> and D Scott. 2015. Geo-Technologies for Spatial Knowledge: Challenges for Inclusive and Sustainable Urban Development. In J Gupta, K Pfeffer, H Verrest and M Ros-Tonen (eds), <em>Geographies of Urban Governance</em> (Cham: Springer International Publishing), pages 147-173. doi: <a href="http://dx.doi.org/10.1007/978-3-319-21272-2_8">10.1007/978-3-319-21272-2_8</a></p>
<p><strong>O’Sullivan D</strong>. 2014. Spatial Network Analysis. In Handbook of Regional Science (eds MM Fischer and P Nijkamp). Springer, pages 1253-1273. doi: <a href="http://dx.doi.org/10.1007/978-3-642-23430-9_67">10.1007/978-3-642-23430-9_67</a></p>
<p><strong>O’Sullivan D</strong>, JDA Millington, GLW Perry and J Wainwright. 2012. Agent-Based Models – Because They’re Worth It? In AJ Heppenstall, AJ Crooks, LM See, and M Batty (eds), <em>Agent-Based Models of Geographical Systems</em> (Springer: Dordrecht, Netherlands), pages 109-123. doi: <a href="http://dx.doi.org/10.1007/978-90-481-8927-4_6">10.1007/978-90-481-8927-4_6</a></p>
<p>Heppenstall AJ, AJ Evans, MH Birkin, JR Macgill and <strong>D O’Sullivan</strong>. 2005. The Use of Hybrid Agent-Based Systems to Model Petrol Markets. In T Terano, H Kita, H Kaneda, K Arai and H Deguchi (eds), <em>Agent-Based Simulation: From Modelling Methodologies to Real-World Applications</em>, Springer Series on Agent-Based Social Systems, pages 154-162. doi: <a href="http://dx.doi.org/10.1007/4-431-26925-8_17">10.1007/4-431-26925-8_17</a></p>
<p><strong>O’Sullivan D</strong>. 2004. Too much of the wrong kind of data: implications for the practice of micro-scale spatial modelling. In MF Goodchild and D Janelle (eds), <em>Spatially Integrated Social Science: Examples of Best Practice</em> (Oxford University Press: Oxford), pages 95-107.</p>
<p><strong>O’Sullivan D</strong>, JR Macgill and C Yu. 2003. Agent-based residential segregation: a hierarchically structured spatial model. In C Macal, M North and D Sallach (eds), <em>Agent 2003: Challenges in Social Simulation</em>, pages 493-507 (Argonne National Laboratory: Chicago). <a href="http://www.agent2004.anl.gov/Agent2003.pdf">www.agent2004.anl.gov/Agent2003.pdf</a></p>
<p><strong>O’Sullivan D</strong>. 2002. Understanding the difference that space can make: toward a geographical agent modeling environment. In C. Macal and D. Sallach (eds), <em>Agent 2002: Ecology, Exchange, and Evolution</em>, pages 13-25 (Argonne National Laboratory: Chicago). <a href="http://www.agent2003.anl.gov/proceedings/2002.pdf">www.agent2003.anl.gov/proceedings/2002.pdf</a></p>
<p><strong>O’Sullivan D</strong> and PM Torrens. 2001. Cellular models of urban systems. In S Bandini and T Worsch (eds), <em>Theoretical and Practical Issues on Cellular Automata, Proceedings of the Fourth International Conference on Cellular Automata for Research and Industry (ACRI 2000)</em>, October 4–6, Karlsruhe, Germany (Springer-Verlag: London), pages 108-116. [Also available as CASA Working Paper 22 at <a href="http://www.casa.ucl.ac.uk/%20cellularmodels.pdf">www.casa.ucl.ac.uk/cellularmodels.pdf</a></p>
</div>
</section>
<section id="dissertations" class="level2">
<h2 class="anchored" data-anchor-id="dissertations">Dissertations</h2>
<div style="padding-left:2em; text-indent:-2em;">
<p>PhD: <strong>O’Sullivan D</strong>. 2000. <a href="https://southosullivan.com/phd/O'Sullivan_2000_Graph-based%20Cellular%20Automaton%20Models%20of%20Urban%20Spatial%20Processes.pdf">Graph-based Cellular Automaton Models of Urban Spatial Processes</a>. University College London.</p>
<p>MSc: <strong>O’Sullivan D</strong>. 1997. <a href="http://southosullivan.com/msc/mastersThesis.pdf">Using GIS to create public transport travel time isochrones for the Glasgow area</a>. University of Glasgow.</p>
</div>


</section>

<p><a href="./"><img src="./images/gs-logo-corrected.png" style="height:36px;" alt="Geospatial Stuff"></a></p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:\/\/|https:\/\/)(?:dosull\.github\.io|dosull|southosullivan\.com|github\.com\/DOSull|southosullivan\.com|github\.com\/DOSull|patternandprocess\.org|computinggeographically\.org)");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>